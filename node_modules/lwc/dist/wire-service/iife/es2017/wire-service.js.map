{"version":3,"file":"wire-service.js","sources":["../../../../../@lwc/wire-service/dist/wire-service.js"],"sourcesContent":["/**\n * Copyright (C) 2018 salesforce.com, inc.\n */\n/**\n * Copyright (C) 2018 salesforce.com, inc.\n */\nfunction isUndefined(obj) {\n    return obj === undefined;\n}\n/** version: 2.45.1 */\n\n/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nconst ValueChangedEventType = 'ValueChangedEvent';\n/**\n * Event fired by wire adapters to emit a new value.\n */\nclass ValueChangedEvent {\n    constructor(value) {\n        this.type = ValueChangedEventType;\n        this.value = value;\n    }\n}\n\n/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nconst { freeze, defineProperty, isExtensible } = Object;\n// This value needs to be in sync with wiring.ts from @lwc/engine-core\nconst DeprecatedWiredElementHost = '$$DeprecatedWiredElementHostKey$$';\nconst DeprecatedWiredParamsMeta = '$$DeprecatedWiredParamsMetaKey$$';\n/**\n * Registers a wire adapter factory for Lightning Platform.\n * @deprecated\n */\nfunction register(adapterId, adapterEventTargetCallback) {\n    if (adapterId == null || !isExtensible(adapterId)) {\n        throw new TypeError('adapter id must be extensible');\n    }\n    if (typeof adapterEventTargetCallback !== 'function') {\n        throw new TypeError('adapter factory must be a callable');\n    }\n    if ('adapter' in adapterId) {\n        throw new TypeError('adapter id is already associated to an adapter factory');\n    }\n    const AdapterClass = class extends LegacyWireAdapterBridge {\n        constructor(dataCallback) {\n            super(dataCallback);\n            adapterEventTargetCallback(this.eventTarget);\n        }\n    };\n    freeze(AdapterClass);\n    freeze(AdapterClass.prototype);\n    defineProperty(adapterId, 'adapter', {\n        writable: false,\n        configurable: false,\n        value: AdapterClass,\n    });\n}\n/**\n * Registers the wire service. noop\n * @deprecated\n */\nfunction registerWireService() { }\nconst { forEach, splice: ArraySplice, indexOf: ArrayIndexOf } = Array.prototype;\n// wire event target life cycle connectedCallback hook event type\nconst CONNECT = 'connect';\n// wire event target life cycle disconnectedCallback hook event type\nconst DISCONNECT = 'disconnect';\n// wire event target life cycle config changed hook event type\nconst CONFIG = 'config';\nfunction removeListener(listeners, toRemove) {\n    const idx = ArrayIndexOf.call(listeners, toRemove);\n    if (idx > -1) {\n        ArraySplice.call(listeners, idx, 1);\n    }\n}\nfunction isEmptyConfig(config) {\n    return Object.keys(config).length === 0;\n}\nfunction isValidConfig(config, params) {\n    // The config is valid if there is no params, or if exist a param for which config[param] !== undefined.\n    return params.length === 0 || params.some((param) => !isUndefined(config[param]));\n}\nfunction isDifferentConfig(newConfig, oldConfig, params) {\n    return params.some((param) => newConfig[param] !== oldConfig[param]);\n}\nclass LegacyWireAdapterBridge {\n    constructor(callback) {\n        this.connecting = [];\n        this.disconnecting = [];\n        this.configuring = [];\n        this.isFirstUpdate = true;\n        this.callback = callback;\n        this.wiredElementHost = callback[DeprecatedWiredElementHost];\n        this.dynamicParamsNames = callback[DeprecatedWiredParamsMeta];\n        this.eventTarget = {\n            addEventListener: (type, listener) => {\n                switch (type) {\n                    case CONNECT: {\n                        this.connecting.push(listener);\n                        break;\n                    }\n                    case DISCONNECT: {\n                        this.disconnecting.push(listener);\n                        break;\n                    }\n                    case CONFIG: {\n                        this.configuring.push(listener);\n                        if (this.currentConfig !== undefined) {\n                            listener.call(undefined, this.currentConfig);\n                        }\n                        break;\n                    }\n                    default:\n                        throw new Error(`Invalid event type ${type}.`);\n                }\n            },\n            removeEventListener: (type, listener) => {\n                switch (type) {\n                    case CONNECT: {\n                        removeListener(this.connecting, listener);\n                        break;\n                    }\n                    case DISCONNECT: {\n                        removeListener(this.disconnecting, listener);\n                        break;\n                    }\n                    case CONFIG: {\n                        removeListener(this.configuring, listener);\n                        break;\n                    }\n                    default:\n                        throw new Error(`Invalid event type ${type}.`);\n                }\n            },\n            dispatchEvent: (evt) => {\n                if (evt instanceof ValueChangedEvent) {\n                    const value = evt.value;\n                    this.callback(value);\n                }\n                else if (evt.type === 'wirecontextevent') {\n                    // TODO [#1357]: remove this branch\n                    return this.wiredElementHost.dispatchEvent(evt);\n                }\n                else {\n                    throw new Error(`Invalid event type ${evt.type}.`);\n                }\n                return false; // canceling signal since we don't want this to propagate\n            },\n        };\n    }\n    update(config) {\n        if (this.isFirstUpdate) {\n            // this is a special case for legacy wire adapters: when all the config params are undefined,\n            // the config on the wire adapter should not be called until one of them changes.\n            this.isFirstUpdate = false;\n            if (!isEmptyConfig(config) && !isValidConfig(config, this.dynamicParamsNames)) {\n                return;\n            }\n        }\n        if (isUndefined(this.currentConfig) ||\n            isDifferentConfig(config, this.currentConfig, this.dynamicParamsNames)) {\n            this.currentConfig = config;\n            forEach.call(this.configuring, (listener) => {\n                listener.call(undefined, config);\n            });\n        }\n    }\n    connect() {\n        forEach.call(this.connecting, (listener) => listener.call(undefined));\n    }\n    disconnect() {\n        forEach.call(this.disconnecting, (listener) => listener.call(undefined));\n    }\n}\n\nexport { ValueChangedEvent, register, registerWireService };\n/** version: 2.45.1 */\n//# sourceMappingURL=wire-service.js.map\n"],"names":[],"mappings":"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"}