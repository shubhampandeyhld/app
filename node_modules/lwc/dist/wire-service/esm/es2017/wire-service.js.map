{"version":3,"file":"wire-service.js","sources":["../../../../../@lwc/wire-service/dist/wire-service.js"],"sourcesContent":["/**\n * Copyright (C) 2018 salesforce.com, inc.\n */\n/**\n * Copyright (C) 2018 salesforce.com, inc.\n */\nfunction isUndefined(obj) {\n    return obj === undefined;\n}\n/** version: 2.45.1 */\n\n/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nconst ValueChangedEventType = 'ValueChangedEvent';\n/**\n * Event fired by wire adapters to emit a new value.\n */\nclass ValueChangedEvent {\n    constructor(value) {\n        this.type = ValueChangedEventType;\n        this.value = value;\n    }\n}\n\n/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nconst { freeze, defineProperty, isExtensible } = Object;\n// This value needs to be in sync with wiring.ts from @lwc/engine-core\nconst DeprecatedWiredElementHost = '$$DeprecatedWiredElementHostKey$$';\nconst DeprecatedWiredParamsMeta = '$$DeprecatedWiredParamsMetaKey$$';\n/**\n * Registers a wire adapter factory for Lightning Platform.\n * @deprecated\n */\nfunction register(adapterId, adapterEventTargetCallback) {\n    if (adapterId == null || !isExtensible(adapterId)) {\n        throw new TypeError('adapter id must be extensible');\n    }\n    if (typeof adapterEventTargetCallback !== 'function') {\n        throw new TypeError('adapter factory must be a callable');\n    }\n    if ('adapter' in adapterId) {\n        throw new TypeError('adapter id is already associated to an adapter factory');\n    }\n    const AdapterClass = class extends LegacyWireAdapterBridge {\n        constructor(dataCallback) {\n            super(dataCallback);\n            adapterEventTargetCallback(this.eventTarget);\n        }\n    };\n    freeze(AdapterClass);\n    freeze(AdapterClass.prototype);\n    defineProperty(adapterId, 'adapter', {\n        writable: false,\n        configurable: false,\n        value: AdapterClass,\n    });\n}\n/**\n * Registers the wire service. noop\n * @deprecated\n */\nfunction registerWireService() { }\nconst { forEach, splice: ArraySplice, indexOf: ArrayIndexOf } = Array.prototype;\n// wire event target life cycle connectedCallback hook event type\nconst CONNECT = 'connect';\n// wire event target life cycle disconnectedCallback hook event type\nconst DISCONNECT = 'disconnect';\n// wire event target life cycle config changed hook event type\nconst CONFIG = 'config';\nfunction removeListener(listeners, toRemove) {\n    const idx = ArrayIndexOf.call(listeners, toRemove);\n    if (idx > -1) {\n        ArraySplice.call(listeners, idx, 1);\n    }\n}\nfunction isEmptyConfig(config) {\n    return Object.keys(config).length === 0;\n}\nfunction isValidConfig(config, params) {\n    // The config is valid if there is no params, or if exist a param for which config[param] !== undefined.\n    return params.length === 0 || params.some((param) => !isUndefined(config[param]));\n}\nfunction isDifferentConfig(newConfig, oldConfig, params) {\n    return params.some((param) => newConfig[param] !== oldConfig[param]);\n}\nclass LegacyWireAdapterBridge {\n    constructor(callback) {\n        this.connecting = [];\n        this.disconnecting = [];\n        this.configuring = [];\n        this.isFirstUpdate = true;\n        this.callback = callback;\n        this.wiredElementHost = callback[DeprecatedWiredElementHost];\n        this.dynamicParamsNames = callback[DeprecatedWiredParamsMeta];\n        this.eventTarget = {\n            addEventListener: (type, listener) => {\n                switch (type) {\n                    case CONNECT: {\n                        this.connecting.push(listener);\n                        break;\n                    }\n                    case DISCONNECT: {\n                        this.disconnecting.push(listener);\n                        break;\n                    }\n                    case CONFIG: {\n                        this.configuring.push(listener);\n                        if (this.currentConfig !== undefined) {\n                            listener.call(undefined, this.currentConfig);\n                        }\n                        break;\n                    }\n                    default:\n                        throw new Error(`Invalid event type ${type}.`);\n                }\n            },\n            removeEventListener: (type, listener) => {\n                switch (type) {\n                    case CONNECT: {\n                        removeListener(this.connecting, listener);\n                        break;\n                    }\n                    case DISCONNECT: {\n                        removeListener(this.disconnecting, listener);\n                        break;\n                    }\n                    case CONFIG: {\n                        removeListener(this.configuring, listener);\n                        break;\n                    }\n                    default:\n                        throw new Error(`Invalid event type ${type}.`);\n                }\n            },\n            dispatchEvent: (evt) => {\n                if (evt instanceof ValueChangedEvent) {\n                    const value = evt.value;\n                    this.callback(value);\n                }\n                else if (evt.type === 'wirecontextevent') {\n                    // TODO [#1357]: remove this branch\n                    return this.wiredElementHost.dispatchEvent(evt);\n                }\n                else {\n                    throw new Error(`Invalid event type ${evt.type}.`);\n                }\n                return false; // canceling signal since we don't want this to propagate\n            },\n        };\n    }\n    update(config) {\n        if (this.isFirstUpdate) {\n            // this is a special case for legacy wire adapters: when all the config params are undefined,\n            // the config on the wire adapter should not be called until one of them changes.\n            this.isFirstUpdate = false;\n            if (!isEmptyConfig(config) && !isValidConfig(config, this.dynamicParamsNames)) {\n                return;\n            }\n        }\n        if (isUndefined(this.currentConfig) ||\n            isDifferentConfig(config, this.currentConfig, this.dynamicParamsNames)) {\n            this.currentConfig = config;\n            forEach.call(this.configuring, (listener) => {\n                listener.call(undefined, config);\n            });\n        }\n    }\n    connect() {\n        forEach.call(this.connecting, (listener) => listener.call(undefined));\n    }\n    disconnect() {\n        forEach.call(this.disconnecting, (listener) => listener.call(undefined));\n    }\n}\n\nexport { ValueChangedEvent, register, registerWireService };\n/** version: 2.45.1 */\n//# sourceMappingURL=wire-service.js.map\n"],"names":[],"mappings":"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"}